{"ast":null,"code":"import _asyncToGenerator from\"/home/anmol/Documents/My_Projects/Expense-tracker/expense-tracker-2/expense_tracker/Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/anmol/Documents/My_Projects/Expense-tracker/expense-tracker-2/expense_tracker/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/anmol/Documents/My_Projects/Expense-tracker/expense-tracker-2/expense_tracker/Client/node_modules/@babel/runtime/regenerator/index.js\";import{createContext,useReducer}from'react';import AppReducer from'./AppReducer';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";var initialState={transactions:[],error:null,loading:false};export var GlobalContext=/*#__PURE__*/createContext(initialState);export var GlobalProvider=function GlobalProvider(_ref){var children=_ref.children;var _useReducer=useReducer(AppReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];function getTransaction(){return _getTransaction.apply(this,arguments);}function _getTransaction(){_getTransaction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get('/api/v1/transactions');case 3:res=_context3.sent;dispatch({type:\"GET_TRANSACTIONS\",payload:res.data.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:\"TRANSACTION_ERROR\",payload:_context3.t0.response.data.Error});case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return _getTransaction.apply(this,arguments);}var deleteTransaction=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.delete(\"/api/v1/transactions/\".concat(id));case 3:dispatch({type:\"DELETE_TRANSACTION\",payload:id});_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);dispatch({type:\"TRANSACTION_ERROR\",payload:_context.t0.response.data.Error});case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function deleteTransaction(_x){return _ref2.apply(this,arguments);};}();var AddTransaction=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(transaction){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;config={header:{'Content-Type':\"application/json\"}};_context2.next=4;return axios.post('/api/v1/transactions',transaction,config);case 4:res=_context2.sent;dispatch({type:\"ADD_TRANSACTION\",payload:res.data.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);dispatch({type:\"TRANSACTION_ERROR\",payload:_context2.t0.response.data.Error});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function AddTransaction(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(GlobalContext.Provider,{value:{transactions:state.transactions,deleteTransaction:deleteTransaction,AddTransaction:AddTransaction,getTransaction:getTransaction,error:state.error,loading:state.loading},children:children});};","map":{"version":3,"sources":["/home/anmol/Documents/My_Projects/Expense-tracker/expense-tracker-2/expense_tracker/Client/src/Context/GlobalState.js"],"names":["createContext","useReducer","AppReducer","axios","initialState","transactions","error","loading","GlobalContext","GlobalProvider","children","state","dispatch","getTransaction","get","res","type","payload","data","response","Error","deleteTransaction","id","delete","AddTransaction","transaction","config","header","post"],"mappings":"mhBAAA,OAAQA,aAAR,CAAuBC,UAAvB,KAAwC,OAAxC,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2CAEA,GAAMC,CAAAA,YAAY,CAAC,CACfC,YAAY,CAAC,EADE,CAEfC,KAAK,CAAC,IAFS,CAGfC,OAAO,CAAC,KAHO,CAAnB,CAKA,MAAO,IAAMC,CAAAA,aAAa,cAACR,aAAa,CAACI,YAAD,CAAjC,CACP,MAAO,IAAMK,CAAAA,cAAc,CAAC,QAAfA,CAAAA,cAAe,MAAe,IAAbC,CAAAA,QAAa,MAAbA,QAAa,CAEvC,gBAAuBT,UAAU,CAACC,UAAD,CAAYE,YAAZ,CAAjC,4CAAOO,KAAP,iBAAaC,QAAb,iBAFuC,QAGxBC,CAAAA,cAHwB,oJAGvC,wLAE4BV,CAAAA,KAAK,CAACW,GAAN,CAAU,sBAAV,CAF5B,QAEkBC,GAFlB,gBAIYH,QAAQ,CAAC,CACLI,IAAI,CAAC,kBADA,CAELC,OAAO,CAACF,GAAG,CAACG,IAAJ,CAASA,IAFZ,CAAD,CAAR,CAJZ,mFAWYN,QAAQ,CAAC,CACLI,IAAI,CAAC,mBADA,CAELC,OAAO,CAAC,aAAME,QAAN,CAAeD,IAAf,CAAoBE,KAFvB,CAAD,CAAR,CAXZ,sEAHuC,iDAoBzC,GAAMC,CAAAA,iBAAiB,2FAAC,iBAAOC,EAAP,wJAEVnB,CAAAA,KAAK,CAACoB,MAAN,gCAAqCD,EAArC,EAFU,QAGhBV,QAAQ,CAAC,CACLI,IAAI,CAAC,oBADA,CAELC,OAAO,CAACK,EAFH,CAAD,CAAR,CAHgB,8EAQhBV,QAAQ,CAAC,CACLI,IAAI,CAAC,mBADA,CAELC,OAAO,CAAC,YAAME,QAAN,CAAeD,IAAf,CAAoBE,KAFvB,CAAD,CAAR,CARgB,mEAAD,kBAAjBC,CAAAA,iBAAiB,6CAAvB,CAcE,GAAMG,CAAAA,cAAc,2FAAE,kBAAOC,WAAP,sJAEJC,MAFI,CAEG,CACTC,MAAM,CAAC,CACH,eAAe,kBADZ,CADE,CAFH,wBAOExB,CAAAA,KAAK,CAACyB,IAAN,CAAW,sBAAX,CAAkCH,WAAlC,CAA8CC,MAA9C,CAPF,QAOVX,GAPU,gBAQdH,QAAQ,CAAC,CACLI,IAAI,CAAC,iBADA,CAELC,OAAO,CAACF,GAAG,CAACG,IAAJ,CAASA,IAFZ,CAAD,CAAR,CARc,mFAadN,QAAQ,CAAC,CACLI,IAAI,CAAC,mBADA,CAELC,OAAO,CAAC,aAAME,QAAN,CAAeD,IAAf,CAAoBE,KAFvB,CAAD,CAAR,CAbc,sEAAF,kBAAdI,CAAAA,cAAc,8CAApB,CAmBA,mBAEI,KAAC,aAAD,CAAe,QAAf,EAAwB,KAAK,CAAE,CAACnB,YAAY,CAACM,KAAK,CAACN,YAApB,CAAkCgB,iBAAiB,CAAjBA,iBAAlC,CAAoDG,cAAc,CAAdA,cAApD,CAC9BX,cAAc,CAAdA,cAD8B,CACfP,KAAK,CAACK,KAAK,CAACL,KADG,CACGC,OAAO,CAACI,KAAK,CAACJ,OADjB,CAA/B,UAESG,QAFT,EAFJ,CAQH,CA7DM","sourcesContent":["import {createContext, useReducer} from 'react';\nimport AppReducer from './AppReducer';\nimport axios from 'axios';\n\nconst initialState={\n    transactions:[],\n    error:null,\n    loading:false\n}\nexport const GlobalContext=createContext(initialState);\nexport const GlobalProvider=({children}) =>{\n    \n    const [state,dispatch]=useReducer(AppReducer,initialState);\n    async function getTransaction(){\n            try {\n                const res=await axios.get('/api/v1/transactions');\n                \n                dispatch({\n                    type:\"GET_TRANSACTIONS\",\n                    payload:res.data.data\n                    \n                })\n                \n            } catch (error) {\n                dispatch({\n                    type:\"TRANSACTION_ERROR\",\n                    payload:error.response.data.Error\n                })\n            }\n    }\n  const deleteTransaction=async (id) =>{\n      try {\n         await  axios.delete(`/api/v1/transactions/${id}`);\n          dispatch({\n              type:\"DELETE_TRANSACTION\",\n              payload:id\n          })\n      } catch (error) {\n          dispatch({\n              type:\"TRANSACTION_ERROR\",\n              payload:error.response.data.Error\n          })\n      }\n  }\n    const AddTransaction= async (transaction) =>{\n        try {\n                const config={\n                    header:{\n                        'Content-Type':\"application/json\"\n                    }\n                }                                                                        \n          const res=  await axios.post('/api/v1/transactions',transaction,config);\n            dispatch({\n                type:\"ADD_TRANSACTION\",\n                payload:res.data.data\n            })\n        } catch (error) {\n            dispatch({\n                type:\"TRANSACTION_ERROR\",\n                payload:error.response.data.Error\n            })\n        }\n    }\n    return(\n   \n        <GlobalContext.Provider value={{transactions:state.transactions ,deleteTransaction,AddTransaction\n        ,getTransaction,error:state.error,loading:state.loading}} >\n                {children}\n        </GlobalContext.Provider>\n        \n    )\n}"]},"metadata":{},"sourceType":"module"}